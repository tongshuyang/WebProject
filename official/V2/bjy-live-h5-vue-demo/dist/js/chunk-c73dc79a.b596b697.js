(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c73dc79a"],{"12bf":function(e,t,n){"use strict";n("9065");var r=n("e03c"),i=n("ad84"),o=n("476f"),s=n("4205"),a=n("eb96"),c=s("species"),l=RegExp.prototype,u=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),d=function(){return"$0"==="a".replace(/./,"$0")}(),f=s("replace"),h=function(){return!!/./[f]&&""===/./[f]("a","$0")}(),p=!o((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,f){var g=s(e),m=!o((function(){var t={};return t[g]=function(){return 7},7!=""[e](t)})),v=m&&!o((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[c]=function(){return n},n.flags="",n[g]=/./[g]),n.exec=function(){return t=!0,null},n[g](""),!t}));if(!m||!v||"replace"===e&&(!u||!d||h)||"split"===e&&!p){var b=/./[g],w=n(g,""[e],(function(e,t,n,r,o){var s=t.exec;return s===i||s===l.exec?m&&!o?{done:!0,value:b.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:d,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:h}),E=w[0],_=w[1];r(String.prototype,e,E),r(l,g,2==t?function(e,t){return _.call(e,this,t)}:function(e){return _.call(e,this)})}f&&a(l[g],"sham",!0)}},1877:function(e,t,n){},3046:function(e,t,n){"use strict";n("c9c1")},3245:function(e,t,n){},"34f9":function(e,t,n){"use strict";var r=n("2cf8"),i=n("ee9f").find,o=n("7419"),s="find",a=!0;s in[]&&Array(1)[s]((function(){a=!1})),r({target:"Array",proto:!0,forced:a},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o(s)},3540:function(e,t,n){"use strict";n("b58e")},"4e62":function(e,t,n){},5238:function(e,t,n){},"5a9c":function(e,t,n){var r=n("b12a"),i=n("6729"),o=n("a89f"),s=n("eb96");for(var a in i){var c=r[a],l=c&&c.prototype;if(l&&l.forEach!==o)try{s(l,"forEach",o)}catch(u){l.forEach=o}}},"5c27":function(e,t,n){},"62cd":function(e,t,n){var r=n("07a8"),i=n("f246").f,o=Function.prototype,s=o.toString,a=/^\s*function ([^ (]*)/,c="name";r&&!(c in o)&&i(o,c,{configurable:!0,get:function(){try{return s.call(this).match(a)[1]}catch(e){return""}}})},7012:function(e,t,n){},"74c9":function(e,t,n){"use strict";n("4e62")},8027:function(e,t,n){"use strict";n("1877")},"80eb":function(e,t,n){var r=n("923d"),i=n("ad84");e.exports=function(e,t){var n=e.exec;if("function"===typeof n){var o=n.call(e,t);if("object"!==typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},"81b9":function(e,t,n){"use strict";n("5238")},"8fbd":function(e,t,n){"use strict";n("9d91")},9065:function(e,t,n){"use strict";var r=n("2cf8"),i=n("ad84");r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},9204:function(e,t,n){var r=n("d3ab");e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},"9b2c":function(e,t,n){"use strict";var r=n("476f");e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},"9d91":function(e,t,n){},a13e:function(e,t,n){"use strict";var r=n("12bf"),i=n("d3ab"),o=n("a16d"),s=n("55e4"),a=n("8a0f"),c=n("f68b"),l=n("63ee"),u=n("80eb"),d=n("ad84"),f=n("e0ec"),h=f.UNSUPPORTED_Y,p=[].push,g=Math.min,m=4294967295;r("split",2,(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(s(this)),o=void 0===n?m:n>>>0;if(0===o)return[];if(void 0===e)return[r];if(!i(e))return t.call(r,e,o);var a,c,l,u=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),h=0,g=new RegExp(e.source,f+"g");while(a=d.call(g,r)){if(c=g.lastIndex,c>h&&(u.push(r.slice(h,a.index)),a.length>1&&a.index<r.length&&p.apply(u,a.slice(1)),l=a[0].length,h=c,u.length>=o))break;g.lastIndex===a.index&&g.lastIndex++}return h===r.length?!l&&g.test("")||u.push(""):u.push(r.slice(h)),u.length>o?u.slice(0,o):u}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var i=s(this),o=void 0==t?void 0:t[e];return void 0!==o?o.call(t,i,n):r.call(String(i),t,n)},function(e,i){var s=n(r,e,this,i,r!==t);if(s.done)return s.value;var d=o(e),f=String(this),p=a(d,RegExp),v=d.unicode,b=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(h?"g":"y"),w=new p(h?"^(?:"+d.source+")":d,b),E=void 0===i?m:i>>>0;if(0===E)return[];if(0===f.length)return null===u(w,f)?[f]:[];var _=0,C=0,x=[];while(C<f.length){w.lastIndex=h?0:C;var y,R=u(w,h?f.slice(C):f);if(null===R||(y=g(l(w.lastIndex+(h?C:0)),f.length))===_)C=c(f,C,v);else{if(x.push(f.slice(_,C)),x.length===E)return x;for(var T=1;T<=R.length-1;T++)if(x.push(R[T]),x.length===E)return x;C=_=y}}return x.push(f.slice(_)),x}]}),h)},a89f:function(e,t,n){"use strict";var r=n("ee9f").forEach,i=n("9b2c"),o=i("forEach");e.exports=o?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},ad84:function(e,t,n){"use strict";var r=n("c8db"),i=n("e0ec"),o=n("799c"),s=RegExp.prototype.exec,a=o("native-string-replace",String.prototype.replace),c=s,l=function(){var e=/a/,t=/b*/g;return s.call(e,"a"),s.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),u=i.UNSUPPORTED_Y||i.BROKEN_CARET,d=void 0!==/()??/.exec("")[1],f=l||d||u;f&&(c=function(e){var t,n,i,o,c=this,f=u&&c.sticky,h=r.call(c),p=c.source,g=0,m=e;return f&&(h=h.replace("y",""),-1===h.indexOf("g")&&(h+="g"),m=String(e).slice(c.lastIndex),c.lastIndex>0&&(!c.multiline||c.multiline&&"\n"!==e[c.lastIndex-1])&&(p="(?: "+p+")",m=" "+m,g++),n=new RegExp("^(?:"+p+")",h)),d&&(n=new RegExp("^"+p+"$(?!\\s)",h)),l&&(t=c.lastIndex),i=s.call(f?n:c,m),f?i?(i.input=i.input.slice(g),i[0]=i[0].slice(g),i.index=c.lastIndex,c.lastIndex+=i[0].length):c.lastIndex=0:l&&i&&(c.lastIndex=c.global?i.index+i[0].length:t),d&&i&&i.length>1&&a.call(i[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)})),i}),e.exports=c},b58e:function(e,t,n){},bf52:function(e,t,n){"use strict";var r=n("2cf8"),i=n("9204"),o=n("55e4"),s=n("e607");r({target:"String",proto:!0,forced:!s("includes")},{includes:function(e){return!!~String(o(this)).indexOf(i(e),arguments.length>1?arguments[1]:void 0)}})},bf8e:function(e,t,n){},c22e:function(e,t,n){"use strict";n("dc9f")},c60a:function(e,t,n){"use strict";n("5c27")},c8db:function(e,t,n){"use strict";var r=n("a16d");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},c9c1:function(e,t,n){},d3ab:function(e,t,n){var r=n("d0d5"),i=n("923d"),o=n("4205"),s=o("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==i(e))}},d456:function(e,t,n){"use strict";n("7012")},d7f5:function(e,t,n){"use strict";var r=n("12bf"),i=n("a16d"),o=n("63ee"),s=n("55e4"),a=n("f68b"),c=n("80eb");r("match",1,(function(e,t,n){return[function(t){var n=s(this),r=void 0==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var s=i(e),l=String(this);if(!s.global)return c(s,l);var u=s.unicode;s.lastIndex=0;var d,f=[],h=0;while(null!==(d=c(s,l))){var p=String(d[0]);f[h]=p,""===p&&(s.lastIndex=a(l,o(s.lastIndex),u)),h++}return 0===h?null:f}]}))},dc9f:function(e,t,n){},e0ec:function(e,t,n){"use strict";var r=n("476f");function i(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=r((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},e1f3:function(e,t,n){"use strict";var r=n("2cf8"),i=n("97a4").includes,o=n("7419");r({target:"Array",proto:!0},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},e3c4:function(e,t,n){"use strict";n("3245")},e607:function(e,t,n){var r=n("4205"),i=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,"/./"[e](t)}catch(r){}}return!1}},e79e:function(e,t,n){"use strict";n("bf8e")},eea6:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"apps"}},[n("Loading"),e.loaded?n("div",{attrs:{id:"main"}},[n("div",{class:["video-wrap",e.isCssFull?"css-full":""]},[e.isPptAsMain&&e.isBB?n("WhiteBoard",{ref:"whiteboard",attrs:{isPptAsMain:e.isPptAsMain}}):n("div"),e.isCssFull?n("button",{staticStyle:{position:"absolute"},on:{click:function(t){e.isCssFull=!1}}},[e._v("退出全屏")]):e._e()],1),n("Menu",{ref:"menu",attrs:{isPptAsMain:e.isPptAsMain},on:{buttonPress:function(t){return e.handleBottomPress(t)}}}),n("div",{staticClass:"media-panel"},[n("div",{staticClass:"notice",class:{"notice-show":e.showNotice}},[n("Notice",e._b({},"Notice",e.noticeProps,!1))],1),n("InteractionPanel",{attrs:{isPptAsMain:e.isPptAsMain}})],1),n("ModalPanel"),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isRollCalling,expression:"isRollCalling"}],staticClass:"roll-call"},[n("p",{staticClass:"roll-call-tip"},[e._v("老师要求你在"+e._s(e.rollCallCountDown)+"秒内响应点名")]),n("span",{staticClass:"roll-call-btn",on:{click:function(t){return e.answerRollCall()}}},[e._v("答到")])]),n("div",{attrs:{id:"interaction-placeholder"}},[n("div",{staticClass:"redpacket"},[n("RedPacket",e._b({},"RedPacket",e.redpacketProps,!1))],1),n("LotteryHit")],1),n("div",{staticStyle:{display:"none"},attrs:{id:"attention-detection-container"}})],1):e._e()],1)},i=[],o=(n("e1f3"),n("bf52"),n("6bf9"),n("9065"),n("a13e"),n("5a9c"),n("d7f5"),n("34f9"),function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)}),s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"loading"}},[n("div",{staticClass:"placeholder"})])}],a={components:{},data:function(){return{}},computed:{},watch:{},methods:{},created:function(){},mounted:function(){var e=BJY.Loading.create({element:$("#loading .placeholder"),logoUrl:"http://img.baijiayun.com/0baijiacloud/logo/ydzb/v5/www-loading.png"}),t=BJY.eventEmitter;t.one(t.LOADING_PANEL_START,(function(e,t){})).one(t.LOADING_PANEL_END,(function(t,n){e.destroy()})).one(t.VIEW_RENDER_TRIGGER,(function(e,t){}))},beforeDestroy:function(){}},c=a,l=(n("8fbd"),n("4ac2")),u=Object(l["a"])(c,o,s,!1,null,"fd10f2fe",null),d=u.exports,f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"h5-player"}})},h=[],p={data:function(){return{started:!1}},mounted:function(){window.player=BJY.H5Player.create({element:$("#h5-player"),showControls:!1,poster:""})}},g=p,m=(n("74c9"),Object(l["a"])(g,f,h,!1,null,null,null)),v=m.exports,b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"barrage-wrap"})},w=[],E={components:{},data:function(){return{barrage:null}},computed:{},watch:{},methods:{open:function(){this.barrage.open()},close:function(){this.barrage.close()},isBarrageOn:function(){return this.barrage.isOpened()},toggle:function(){this.isBarrageOn()?(this.close(),this.$Toast("弹幕关")):(this.open(),this.$Toast("弹幕开"))}},created:function(){},mounted:function(){this.barrage=new BJY.Barrage({container:$(".video-wrap"),speed:100,maxLength:20,top:30,bottom:30,trackHeight:30,textOnly:!1,renderContent:function(e){return e.content}})},beforeDestroy:function(){}},_=E,C=(n("3540"),Object(l["a"])(_,b,w,!1,null,"34dbd4a1",null)),x=C.exports,y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"menu"},[n("span",{staticClass:"user-count"},[e._v(e._s(e.userCount)+"人在线")]),n("span",{staticClass:"btn-wrap"},[e.cdnList.length>1&&e.canSwitchCdn?n("select",{directives:[{name:"model",rawName:"v-model",value:e.currentNode,expression:"currentNode"}],staticClass:"cdn-node-list",attrs:{name:"cdn",id:"cdn-list"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.currentNode=t.target.multiple?n:n[0]}}},e._l(e.cdnList.length,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(e._s(e._f("cdnListFilter")(t)))])})),0):e._e(),e.isPptAsMain?n("i",{staticClass:"icon icon-teacher",on:{click:function(t){return e.swap()}}}):e._e(),n("i",{staticClass:"icon icon-notice-btn",on:{click:function(t){return e.noticeToggle()}}}),e.isBarrageOn?n("i",{staticClass:"icon icon-barrage-on",on:{click:function(t){return e.barrageToggle()}}}):n("i",{staticClass:"icon icon-barrage-off",on:{click:function(t){return e.barrageToggle()}}}),n("i",{staticClass:"icon icon-refresh",on:{click:function(t){return e.refresh()}}}),n("i",{staticClass:"icon icon-full-screen",on:{click:function(t){return e.fullScreen()}}})])])},R=[],T=BJY.eventEmitter,S={components:{},props:["isPptAsMain"],data:function(){return{userCount:1,isBarrageOn:!1,cdnList:[],currentNode:1,canSwitchCdn:!BJY.auth.isWebRTC()}},watch:{currentNode:function(e,t){console.log(e),T.trigger(T.DOWNLINK_SERVER_NODE_CHANGE_TRIGGER,{index:e-1})}},filters:{cdnListFilter:function(e){return"线路"+e}},methods:{swap:function(){this.$emit("buttonPress","swap")},noticeToggle:function(){this.$emit("buttonPress","notice")},barrageToggle:function(){this.$emit("buttonPress","barrage")},refresh:function(){this.$emit("buttonPress","refresh")},fullScreen:function(){this.$emit("buttonPress","fullscreen")},toggleIcon:function(e){this.isBarrageOn=e}},created:function(){var e=this;T.on(T.USER_COUNT_CHANGE,(function(t,n){e.userCount=n.userCount})),this.cdnList=BJY.data.server.getLiveServerList()},mounted:function(){},beforeDestroy:function(){}},N=S,P=(n("3046"),Object(l["a"])(N,y,R,!1,null,"ed64cd92",null)),B=P.exports,A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bjy-custom-interaction"},[n("div",{staticClass:"tab-header"},[n("span",{staticClass:"tab-message",class:{active:e.getCurrentTab("message")},on:{click:function(t){return e.setTab("message")}}},[e._v("聊天")]),n("span",{staticClass:"tab-question",class:{active:e.getCurrentTab("question")},on:{click:function(t){return e.setTab("question")}}},[e._v("问答")]),e.isPptAsMain?e._e():n("span",{staticClass:"tab-board",class:{active:e.getCurrentTab("board")},on:{click:function(t){return e.setTab("board")}}},[e._v("白板")])]),n("div",{staticClass:"tab-body",class:{"can-switch":e.isPptAsMain}},[n("MessageList",{directives:[{name:"show",rawName:"v-show",value:e.getCurrentTab("message"),expression:"getCurrentTab('message')"}]}),n("QuestionAnswer",{directives:[{name:"show",rawName:"v-show",value:e.getCurrentTab("question"),expression:"getCurrentTab('question')"}]}),e.isPptAsMain?n("Player"):n("WhiteBoard",{directives:[{name:"show",rawName:"v-show",value:e.getCurrentTab("board"),expression:"getCurrentTab('board')"}]})],1)])},I=[],O=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},k=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"message-panel"}},[n("div",{staticClass:"message-list"}),n("div",{staticClass:"message-sender"})])}],L=(n("62cd"),{}),M=BJY.config;L[M.ROLE_TYPE_TEACHER]={en:"teacher",cn:"老师"},L[M.ROLE_TYPE_ASSISTANT]={en:"assistant",cn:"助教"},L[M.ROLE_TYPE_STUDENT]={en:"student",cn:"学生"},L[M.ROLE_TYPE_GUEST]={en:"guest",cn:"游客"};var Y=L,D=BJY.eventEmitter,F={components:{},data:function(){return{}},computed:{},watch:{},methods:{},created:function(){D.on(D.MESSAGE_RECEIVE,(function(e,t){var n=$(".tab-message");n.hasClass("active")||n.addClass("has-new")}))},mounted:function(){BJY.MessageList.create({element:$("#message-panel .message-list"),replace:!1,renderEmoji:function(e,t){return BJY.isAlicloudImage(t)?'<img ondragstart="return false" src="'+t+'@100w_1e_1l.png" srcset="'+t+'@200w_1e_1l.png 2x">':'<img ondragstart="return false" src="'+t+'">'},renderImage:function(e){return BJY.isAlicloudImage(e)?'<img ondragstart="return false" src="'+e+'@100w_1e_1l.png" srcset="'+e+'@200w_1e_1l.png 2x">':'<img ondragstart="return false" src="'+e+'">'},renderUser:function(e,t,n){return{id:e.id,name:e.name,number:e.number,avatar:BJY.compressImage({url:e.avatar,width:t,height:n}),avatar2x:BJY.compressImage({url:e.avatar,width:2*t,height:2*n}),role:Y[e.type].en,localRole:Y[e.type].cn}},loadDistance:0}),BJY.MessageSender.create({element:$("#message-panel .message-sender"),replace:!1,canSendEmoji:!0,multiline:!0,messageMaxLength:140,placeholder:"请输入...",emotionList:{emotionPerRow:6,rowPerPage:4}})},beforeDestroy:function(){}},J=F,j=(n("8027"),Object(l["a"])(J,O,k,!1,null,null,null)),q=j.exports,U=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},z=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"question-answer"}},[n("div",{staticClass:"placeholder"})])}],G=BJY.store,H={components:{},data:function(){return{user:G.get("user")}},computed:{},watch:{},methods:{},created:function(){},mounted:function(){BJY.QuestionAnswer.create({element:$("#question-answer .placeholder"),replace:!0,canManageQuestion:!1,limitPerMinute:100,countPerPage:8,inputMaxLength:140,pageBySwipe:!0,onCopyFinish:function(){}})},beforeDestroy:function(){}},Q=H,W=(n("d456"),Object(l["a"])(Q,U,z,!1,null,null,null)),V=W.exports,Z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"whiteboard"}},[e.isPptAsMain?e._e():n("button",{staticClass:"btn",on:{click:function(t){return e.toggleWhiteboardFull()}}},[e._v(" "+e._s(e.isFull?"退出全屏":"全屏")+" ")]),n("div",{staticClass:"placeholder"})])},K=[],X={components:{},props:["isPptAsMain"],data:function(){return{whiteboard:null,isFull:!1}},computed:{},watch:{},methods:{refresh:function(){this.whiteboard.refresh()},toggleWhiteboardFull:function(){var e=document.getElementById("whiteboard");this.isFull?this.exitFullScreen():this.fullScreen(e),this.isFull=!this.isFull},fullScreen:function(e){return e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen()},exitFullScreen:function(){var e=document;if(!e.exitFullscreen)return e.webkitExitFullscreen?e.webkitExitFullScreen():e.mozRequestFullscreen?e.mozExitFullscreen():e.msExitFullscreen();e.exitFullscreen()}},created:function(){},mounted:function(){this.whiteboard=BJY.Whiteboard.create({element:$("#whiteboard .placeholder"),fit:1,keepSize:!1,watermark:{text:"text",opacity:8,size:36,rotate:20,fill:1}}),console.log("加载白板")},beforeDestroy:function(){this.whiteboard&&this.whiteboard.destroy()}},ee=X,te=(n("81b9"),Object(l["a"])(ee,Z,K,!1,null,null,null)),ne=te.exports,re={components:{MessageList:q,QuestionAnswer:V,WhiteBoard:ne,Player:v},props:["isPptAsMain"],data:function(){return{currentTab:this.isPptAsMain?"message":"board"}},computed:{},watch:{},methods:{getCurrentTab:function(e){return this.currentTab===e},setTab:function(e){this.currentTab=e}},created:function(){},mounted:function(){},beforeDestroy:function(){}},ie=re,oe=(n("c60a"),Object(l["a"])(ie,A,I,!1,null,null,null)),se=oe.exports,ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"pop"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.showModal,expression:"showModal"}],staticClass:"modal"},[e.showQuizClose?n("span",{staticClass:"quiz-close",on:{click:function(t){return e.closeModal()}}},[e._v("X")]):e._e(),n("div",{staticClass:"container"})])])},ce=[],le=BJY.eventEmitter,ue={components:{},data:function(){return{showModal:!1,showQuizClose:!1}},computed:{},watch:{showModal:function(e,t){e?$("#h5-player").css("transform","translateX(10000px)"):$("#h5-player").css("transform","")}},methods:{quizOpen:function(e){BJY.quizStudent.open({element:$(".modal .container")[0],replace:!1,forceJoin:e.forceJoin,quizId:e.quizId,solution:e.solution,onReady:function(){},onError:function(e){console.log(e)}})},questionOpen:function(e,t){var n=this;this.showModal=!0,this.showQuizClose=!1,BJY.AnswerStudent.open($.extend({element:$(".modal .container")[0],autoCloseAfterSubmit:!1,onClose:function(){n.showModal=!1},replace:!1,showResult:t,autoShowResultAfterEnd:!!e.isShowCorrectAnswer},e))},closeModal:function(){this.showModal=!1,this.showQuizClose=!1}},created:function(){var e=this;BJY.AnswerStudent.init(),BJY.quizStudent.init(),le.on(le.START_ANSWER,(function(t,n){e.questionOpen(n,!1)})).on(le.ANSER_RESULT_SHOW,(function(t,n){e.questionOpen(n,!0)})).on(le.QUIZ_START,(function(t,n){e.showModal=!0,e.showQuizClose=!n.forceJoin,e.quizOpen(n)})).on(le.QUIZ_SOLUTION,(function(t,n){e.showModal=!0,e.showQuizClose=!0,e.quizOpen(n)})).on(le.QUIZ_SUBMIT,(function(){e.closeModal()})).on(le.QUIZ_END,(function(t,n){e.closeModal()})),le.trigger(le.QUIZ_REQ)},mounted:function(){},beforeDestroy:function(){}},de=ue,fe=(n("e3c4"),Object(l["a"])(de,ae,ce,!1,null,null,null)),he=fe.exports,pe=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},ge=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"lottery-container"},[n("div",{staticClass:"lottery-hit"})])}],me={components:{},data:function(){return{}},computed:{},watch:{},methods:{destoryHitComp:function(){this.lotteryHitComp&&this.lotteryHitComp.destroy()},createLotteryHit:function(e){var t=this;BJY.store;t.destoryHitComp(),t.lotteryHitComp=BJY.LotteryHit.create({element:$(".lottery-hit"),list:e.hitList,lotteryName:e.lotteryName,replace:!1,skin:"h5-red",onSubmit:function(e,t){},onClose:function(){t.destoryHitComp()}})}},created:function(){},mounted:function(){var e=BJY.eventEmitter,t=this;BJY.Lottery.init({needAnimation:!0}),e.on(e.STANDARD_LOTTERY_END,(function(e,n){t.createLotteryHit(n)})).on(e.COMMAND_LOTTERY_ABORT,(function(e,n){t.createLotteryHit(n)})).on(e.COMMAND_LOTTERY_BEIGIN,(function(e,t){t.command}))},beforeDestroy:function(){}},ve=me,be=(n("c22e"),Object(l["a"])(ve,pe,ge,!1,null,null,null)),we=be.exports,Ee=BJY.eventEmitter,_e={name:"Apps",components:{Loading:d,Player:v,Menu:B,Barrage:x,WhiteBoard:ne,Notice:Yox.transformOptions(BJY.Notice),InteractionPanel:se,ModalPanel:he,RedPacket:Yox.transformOptions(BJY.Interaction),LotteryHit:we},data:function(){return{loaded:!1,noticeProps:{element:$(".media-panel .notice")[0],replace:!1,defaultContent:"这里空空如也...",foldDefault:!0},redpacketProps:{element:$(".interaction-placeholder .redpacket")[0],needRedPacket:!0,canGetRedPacket:!0,canSendRedPacket:!1,redPacketOptions:{skin:"bjy",hasRankingList:!0}},isCssFull:!1,showNotice:!1,isPptAsMain:!1,isRollCalling:!1,rollCallCountDown:10,rollCallTimer:null,isBB:!1}},created:function(){var e=this;console.log("******************************************************************************"),console.log("*   欢迎使用 BJY JS SDK - 百家云直播 - "+BJY.version),console.log("*   API 文档：https://www.baijiayun.com/js-sdk/doc/#/README"),console.log("*   版本更新日志：https://www.baijiayun.com/js-sdk/doc/#/change-log"),console.log("*   常见问题：https://www.baijiayun.com/js-sdk/doc/#/live?id=%e5%b8%b8%e8%a7%81%e9%97%ae%e9%a2%98"),console.log("*   注意事项：H5 Demo 需要在真机上预览，PC上不支持m3u8流类型， 自己创建教室测试时，注意非webrtc类型教室传入webrtc: 0"),console.log("*   sign签名规则：https://dev.baijiayun.com/wiki/detail/1"),console.log("******************************************************************************");var t={prefixName:"e74839313",env:"production",room_id:"21030980034604",user_number:18700,user_avatar:"https://img.baijiayun.com/0bjcloud/live/avatar/v2/121.jpg",user_name:"test001",user_role:0,sign:"f6264e2128cea5800d1e22b37a2a8c30",webrtc:0};if(location.href.includes("debug=1")){var n=prompt("输入传送门链接进入教室,webrtc课程请在链接后加上&webrtc=1");t=Object.assign(t,this.urlParser(n)),console.log(t)}var r={id:t.room_id};Number(t.webrtc)&&(r.webrtcType=Number(t.webrtc)),BJY.init({env:t.env,privateDomainPrefix:t.prefixName,class:r,user:{number:t.user_number,avatar:decodeURIComponent(t.user_avatar),name:decodeURIComponent(t.user_name),type:Number(t.user_role)},teacher:{type:1},sign:t.sign}),Ee.on(Ee.CLASSROOM_CONNECT_TRIGGER,(function(e,t){})).on(Ee.VIEW_RENDER_TRIGGER,(function(t,n){e.loaded=!0,e.isBB=!0,console.log(BJY.MessageSender),e.$nextTick((function(){BJY.AttentionDetection.create({element:$("#attention-detection-container"),replace:!1,skin:"light"})}))})).on(Ee.CLASS_END,(function(){console.log("老师下课了"),e.isBB=!1})).on(Ee.CLASS_START,(function(){console.log("老师开始上课了"),e.isBB=!0})).one(Ee.LOADING_PANEL_END,(function(e,t){$("#main").css({top:0,bottom:0})})).on(Ee.LOGIN_CONFLICT,(function(){alert("你已被踢，请确保user_number唯一")})).on(Ee.ROLL_CALL,(function(t,n){e.rollCallCountDown=n.duration,e.isRollCalling=!0,e.rollCallTimer=setInterval((function(){0===e.rollCallCountDown&&(clearInterval(e.rollCallTimer),e.isRollCalling=!1),e.rollCallCountDown--}),1e3)})).on(Ee.NOTICE_CHANGE,(function(t,n){console.log(n),setTimeout((function(){e.checkNeedScroll()}),500)})).on(Ee.NOTICE_RES,(function(e,t){console.log(t)})).on(Ee.ATTENTION_DETECTION_ALERT,(function(e,t){t.content&&alert(t.content)}))},beforeDestroy:function(){BJY.dispose(BJY.config.BJY_DISPOSE_TYPE_OUT_ROOM)},methods:{checkNeedScroll:function(){var e=$(".bjy-content-container .bjy-content").width(),t=$(".bjy-content-container .bjy-content").children().width();t>=e?$(".media-panel .bjy-notice").addClass("need-scroll"):$(".media-panel .bjy-notice").removeClass("need-scroll")},answerRollCall:function(){Ee.trigger(Ee.ROLL_CALL_RES),this.isRollCalling=!1,clearInterval(this.rollCallTimer)},urlParser:function(e){var t={};if(e)try{var n=e.split("?")[1],r=n.split("&");r.forEach((function(e){var n=e.split("=");t[n[0]]=n[1]})),t.prefixName=e.split(".")[0].split("//")[1],t.env=this.getEnv(e)}catch(i){console.log(i)}return t},getEnv:function(e){var t=e.match(/\/\/(.*)\./)[1];return/test/.test(t)||/localhost/.test(t)||/\d{1,3}\.\d{1,3}\.\d{1,3}/.test(t)?"test":/beta/.test(t)?"beta":(/www/.test(t),"")},handleBottomPress:function(e){switch(e){case"notice":this.noticeToggle();break;case"barrage":this.barrageToggle();break;case"refresh":this.refresh();break;case"fullscreen":this.fullScreen();break;case"swap":this.swapPptVideo(),Ee.trigger(Ee.WINDOW_RESIZE)}},swapPptVideo:function(){var e=document.getElementById("h5-player"),t=document.getElementById("whiteboard"),n=e.parentNode,r=t.parentNode,i=document.createElement("span"),o=document.createElement("span");n.insertBefore(i,e),r.insertBefore(o,t),t&&n.insertBefore(t,i),e&&r.insertBefore(e,o),n.removeChild(i),r.removeChild(o)},noticeToggle:function(){this.showNotice=!this.showNotice,this.checkNeedScroll()},barrageToggle:function(){this.$refs.barrage.toggle();var e=this.$refs.barrage.isBarrageOn();this.$refs.menu.toggleIcon(e)},refresh:function(){window.player&&window.player.play()},fullScreen:function(){var e=document.getElementsByClassName("video-wrap")[0].firstElementChild;this.toFullVideo(e)},toFullVideo:function(e){if($(e).find("video").length)e=$(e).find("video")[0];else if(-1!==navigator.userAgent.indexOf("iPhone")&&$(e).find(".bjy-whiteboard").length)return void this.handleCssFull(e);return e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitEnterFullscreen?e.webkitEnterFullscreen():e.msRequestFullscreen()},handleCssFull:function(e){this.isCssFull=!0}}},Ce=_e,xe=(n("e79e"),Object(l["a"])(Ce,r,i,!1,null,null,null));t["default"]=xe.exports},f68b:function(e,t,n){"use strict";var r=n("5d21").charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}}}]);
//# sourceMappingURL=chunk-c73dc79a.b596b697.js.map