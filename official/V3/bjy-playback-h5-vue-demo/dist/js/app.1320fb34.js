(function(e){function t(t){for(var i,s,r=t[0],c=t[1],u=t[2],d=0,f=[];d<r.length;d++)s=r[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&f.push(a[s][0]),a[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);l&&l(t);while(f.length)f.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],i=!0,r=1;r<n.length;r++){var c=n[r];0!==a[c]&&(i=!1)}i&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var i={},a={app:0},o=[];function s(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=i,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(n,i,function(t){return e[t]}.bind(null,i));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=t,r=r.slice();for(var u=0;u<r.length;u++)t(r[u]);var l=c;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"09e2":function(e,t,n){"use strict";n("61b0")},1271:function(e,t,n){"use strict";n("8195")},"1cb3":function(e,t,n){},3883:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Loading",{on:{loaded:function(t){return e.loadEnd()}}}),e.loaded?n("div",{attrs:{id:"main"}},[n("div",{staticClass:"video-wrap"},[n("Player",{ref:"player",attrs:{videoData:e.videoData}})],1),n("div",{staticClass:"media-panel"},[n("div",{staticClass:"notice"},[n("Notice")],1),e.lineList.length>1?n("select",{directives:[{name:"model",rawName:"v-model",value:e.currentLine,expression:"currentLine"}],attrs:{name:"line",id:"line-control",title:"线路"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.currentLine=t.target.multiple?n:n[0]}}},e._l(e.lineList,(function(t,i){return n("option",{key:i,domProps:{selected:i===e.currentLine,value:i}},[e._v(e._s(e._f("lineFilter")(i)))])})),0):e._e(),n("InteractionPanel",{attrs:{pages:e.pages}})],1),n("ModalPanel")],1):e._e()],1)},o=[],s=(n("caad"),n("2532"),n("a9e3"),n("ac1f"),n("1276"),n("d3b7"),n("159b"),function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)}),r=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"loading"}},[n("div",{staticClass:"placeholder"})])}],c={components:{},data:function(){return{}},computed:{},watch:{},methods:{},created:function(){},mounted:function(){var e=this,t=BJY.playback.Loading.create({element:$("#loading .placeholder"),logoUrl:"http://img.baijiayun.com/0baijiacloud/logo/ydzb/v5/www-loading.png",onComplete:function(){e.$emit("loaded"),t.destroy()}})},beforeDestroy:function(){}},u=c,l=(n("ca79"),n("2877")),d=Object(l["a"])(u,s,r,!1,null,"f40794b4",null),f=d.exports,p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("video",{attrs:{id:"bjy-player-teacher","x5-playsinline":"true","x-webkit-airplay":"allow","webkit-playsinline":"true",playsinline:"true",controls:""}})},m=[],h=(n("5319"),{props:["videoData"],components:{},data:function(){return{tip:"",started:!1,video:null}},computed:{},watch:{videoData:{deep:!0,handler:function(e,t){this.attachVideo(e)}}},methods:{onPlaying:function(){BJY.playback.play()},onPause:function(){console.log("onpause"),BJY.playback.pause()},onSeeked:function(){console.log("onseeked"),BJY.playback.seek(this.video.currentTime),BJY.playback.play(),console.log(this.video.currentTime)},onTimeUpdate:function(){BJY.playback.timeupdate(this.video.currentTime)},attachVideo:function(e){var t=e.url;if(t=t.replace("https:","").replace("http:",""),t.indexOf("ev1")>-1&&flvjs){var n=flvjs.createPlayer({type:"ev1",url:t,cors:!0},{stashInitialSize:1024});n.attachMediaElement(this.video),n.load()}else this.video.src=t}},mounted:function(){var e=this.video=document.getElementById("bjy-player-teacher");BJY.store.set("teacherVideo",e);var t=this.videoData,n=this;BJY.playback.start(),t&&(this.attachVideo(t),e.addEventListener("play",(function(){n.onPlaying()})),e.addEventListener("pause",(function(){n.onPause()})),e.addEventListener("seeked",(function(){n.onSeeked()})),e.addEventListener("timeupdate",(function(){n.onTimeUpdate()})))},beforeDestroy:function(){}}),v=h,b=(n("dca4"),Object(l["a"])(v,p,m,!1,null,"4bfa7547",null)),g=b.exports,_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"interaction"},[n("div",{staticClass:"tab-header"},[n("span",{staticClass:"tab-message",class:{active:e.getCurrentTab("message")},on:{click:function(t){return e.setTab("message")}}},[e._v("聊天")]),n("span",{staticClass:"tab-question",class:{active:e.getCurrentTab("question")},on:{click:function(t){return e.setTab("question")}}},[e._v("问答")]),n("span",{staticClass:"tab-board",class:{active:e.getCurrentTab("board")},on:{click:function(t){return e.setTab("board")}}},[e._v("白板")]),n("span",{staticClass:"tab-menus",class:{active:e.getCurrentTab("menus")},on:{click:function(t){return e.setTab("menus")}}},[e._v("目录")])]),n("div",{staticClass:"tab-body"},[n("MessageList",{class:{visible:e.getCurrentTab("message")}}),n("QuestionAnswer",{class:{visible:e.getCurrentTab("question")}}),n("WhiteBoard",{class:{visible:e.getCurrentTab("board")}}),n("MenusPanel",{class:{visible:e.getCurrentTab("menus")},attrs:{pages:e.pages}})],1)])},y=[],w=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},E=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"message-panel"}},[n("div",{staticClass:"message-list"})])}],x=(n("b0c0"),{}),T=BJY.config;x[T.ROLE_TYPE_TEACHER]={en:"teacher",cn:"老师"},x[T.ROLE_TYPE_ASSISTANT]={en:"assistant",cn:"助教"},x[T.ROLE_TYPE_STUDENT]={en:"student",cn:"学生"},x[T.ROLE_TYPE_GUEST]={en:"guest",cn:"游客"};var C=x,k=(BJY.eventEmitter,{components:{},data:function(){return{}},computed:{},watch:{},methods:{},created:function(){},mounted:function(){BJY.MessageList.create({element:$("#message-panel .message-list"),replace:!1,renderEmoji:function(e,t){return BJY.isAlicloudImage(t)?'<img ondragstart="return false" src="'+t+'@100w_1e_1l.png" srcset="'+t+'@200w_1e_1l.png 2x">':'<img ondragstart="return false" src="'+t+'">'},renderImage:function(e){return BJY.isAlicloudImage(e)?'<img ondragstart="return false" src="'+e+'@100w_1e_1l.png" srcset="'+e+'@200w_1e_1l.png 2x">':'<img ondragstart="return false" src="'+e+'">'},renderUser:function(e,t,n){return{id:e.id,name:e.name,number:e.number,avatar:BJY.compressImage({url:e.avatar,width:t,height:n}),avatar2x:BJY.compressImage({url:e.avatar,width:2*t,height:2*n}),role:C[e.type].en,localRole:C[e.type].cn}},loadDistance:0})},beforeDestroy:function(){}}),S=k,O=(n("8027"),Object(l["a"])(S,w,E,!1,null,null,null)),B=O.exports,L=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},J=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"question-answer"}},[n("div",{staticClass:"placeholder"})])}],P=BJY.store,Y={components:{},data:function(){return{user:P.get("user")}},computed:{},watch:{},methods:{},created:function(){},mounted:function(){BJY.QuestionAnswer.create({element:$("#question-answer .placeholder"),replace:!0,canManageQuestion:!1,limitPerMinute:100,countPerPage:8,inputMaxLength:140,pageBySwipe:!0,inputFieldVisible:!1,onCopyFinish:function(){}})},beforeDestroy:function(){}},j=Y,M=(n("d456"),Object(l["a"])(j,L,J,!1,null,null,null)),F=M.exports,I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"whiteboard"}},[n("button",{staticClass:"btn",on:{click:function(t){return e.toggleWhiteboardFull()}}},[e._v(" "+e._s(e.isFull?"退出全屏":"全屏")+" ")]),n("div",{staticClass:"placeholder"})])},q=[],z={components:{},data:function(){return{isFull:!1}},computed:{},watch:{},methods:{toggleWhiteboardFull:function(){var e=document.getElementById("whiteboard");this.isFull?this.exitFullScreen():this.fullScreen(e),this.isFull=!this.isFull},fullScreen:function(e){return e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen()},exitFullScreen:function(){var e=document;if(!e.exitFullscreen)return e.webkitExitFullscreen?e.webkitExitFullScreen():e.mozRequestFullscreen?e.mozExitFullscreen():e.msExitFullscreen();e.exitFullscreen()}},created:function(){},mounted:function(){BJY.Whiteboard.create({element:$("#whiteboard .placeholder")})},beforeDestroy:function(){}},D=z,N=(n("f21b"),Object(l["a"])(D,I,q,!1,null,"6c6fca7e",null)),R=N.exports,A=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Q=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"menuspanel"}},[n("div",{staticClass:"bjy-playback-menuspanel"})])}],U={props:["pages"],data:function(){return{}},mounted:function(){var e=BJY.MenusPanel.create({element:$(".bjy-playback-menuspanel"),markDot:[{desc:"哈哈哈哈",time_offset:"00:00:00"},{desc:"一二三四五六",time_offset:"00:01:30"},{desc:"一二三四五六",time_offset:"00:02:58"},{desc:"一二三四五六",time_offset:"00:03:21"},{desc:"一二三四五六",time_offset:"00:04:42"},{desc:"一二三四五六",time_offset:"00:05:16"},{desc:"一二三四五六",time_offset:"00:06:32"},{desc:"一二三四五六",time_offset:"00:07:27"},{desc:"一二三四五六",time_offset:"00:08:30"},{desc:"一二三四五六",time_offset:"00:09:10"}],pages:this.pages});BJY.store.watch("teacherVideo",(function(t){t.addEventListener("timeupdate",(function(){e&&e.set("currentTime",t.currentTime)}))}))}},V=U,W=(n("1271"),Object(l["a"])(V,A,Q,!1,null,"4ea61cb8",null)),H=W.exports,G={components:{MessageList:B,QuestionAnswer:F,WhiteBoard:R,MenusPanel:H},props:["pages"],data:function(){return{currentTab:"board"}},computed:{},watch:{},methods:{getCurrentTab:function(e){return this.currentTab===e},setTab:function(e){this.currentTab=e}},created:function(){},mounted:function(){},beforeDestroy:function(){}},K=G,X=(n("09e2"),Object(l["a"])(K,_,y,!1,null,"5b5fbf4a",null)),Z=X.exports,ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"pop"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.showModal,expression:"showModal"}],staticClass:"modal"},[n("span",{directives:[{name:"show",rawName:"v-show",value:e.showQuizClose,expression:"showQuizClose"}],staticClass:"quiz-close",on:{click:function(t){return e.closeModal()}}},[e._v("X")]),n("div",{staticClass:"container"})])])},te=[],ne=BJY.eventEmitter,ie={components:{},data:function(){return{showModal:!1,showQuizClose:!1}},computed:{},watch:{},methods:{quizOpen:function(e){BJY.quizStudent.open({element:$(".modal .container")[0],replace:!1,forceJoin:e.forceJoin,quizId:e.quizId,solution:e.solution,onReady:function(){},onError:function(){}})},questionOpen:function(e,t){var n=this;this.showModal=!0,this.showQuizClose=!1,BJY.AnswerStudent.open($.extend({element:$(".modal .container")[0],replace:!1,autoCloseAfterSubmit:!0,onClose:function(){n.showModal=!1},showResult:t,autoShowResultAfterEnd:!!e.isShowCorrectAnswer},e))},closeModal:function(){this.showModal=!1,this.showQuizClose=!1}},created:function(){var e=this;BJY.AnswerStudent.init(),BJY.quizStudent.init(),ne.on(ne.START_ANSWER,(function(t,n){e.questionOpen(n,!1)})).on(ne.ANSER_RESULT_SHOW,(function(t,n){e.questionOpen(n,!0)})).on(ne.QUIZ_START,(function(t,n){e.showModal=!0,e.showQuizClose=!0,e.quizOpen(n)})).on(ne.QUIZ_SOLUTION,(function(t,n){e.showModal=!0,e.showQuizClose=!0,e.quizOpen(n)}))},mounted:function(){},beforeDestroy:function(){}},ae=ie,oe=(n("e3c4"),Object(l["a"])(ae,ee,te,!1,null,null,null)),se=oe.exports,re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"bjy-playback-notice"}})},ce=[],ue={components:{},data:function(){return{}},computed:{},watch:{},methods:{},created:function(){},mounted:function(){BJY.Notice.create({element:$("#bjy-playback-notice"),replace:!1,defaultContent:"这里空空如也..."})},beforeDestroy:function(){}},le=ue,de=(n("77e5"),Object(l["a"])(le,re,ce,!1,null,null,null)),fe=de.exports,pe=(BJY.eventEmitter,{name:"App",components:{Loading:f,Player:g,Notice:fe,InteractionPanel:Z,ModalPanel:se},data:function(){return{loaded:!1,videoData:null,currentLine:0,pages:[],lineList:[]}},filters:{lineFilter:function(e){return"线路"+ ++e}},watch:{currentLine:{deep:!0,handler:function(e,t){this.videoData=this.lineList[e]}}},created:function(){var e=this,t={token:"T4Ivx-DIWjgmvvoNNdcydzf3LcMMPzYEc4GNHnOv-QuVbTLv8dzJe_eqCFuUfaIw0nPLBgfsrQMKp0fXMnVKLQ",classId:"18070683424562",sessionId:201807200,prefixName:""};if(location.href.includes("debug=1")){var n=prompt("输入回放url以测试");if(n){var i=this.getQuery(n);t.token=i.token,t.classId=i.classid,t.sessionId=Number(i.session_id),t.prefixName=i.prefixName}console.log(t)}BJY.playback.init({env:"production",privateDomainPrefix:t.prefixName,token:t.token,class:{id:t.classId,sessionId:t.sessionId},useEncrypt:!0,user:{number:"13147056",avatar:"http://static.sunlands.com/newUserImagePath/13147056/40_40/13147056.jpg",name:"xxx",type:0}}).then((function(t){e.loaded=!0;var n=t.defaultDefinition;e.pages=t.pages,e.videoData=t.videos[n][e.currentLine],e.lineList=t.videos[n]}))},methods:{loadEnd:function(){$("#main").css("top",0)},getQuery:function(e){var t=e.split("?")[1],n=e.split(".")[0].split("//")[1],i=t.split("&"),a={prefixName:n};return i.forEach((function(e){var t=e.split("=");a[t[0]]=t[1]})),a}},mounted:function(){}}),me=pe,he=(n("5c0b"),Object(l["a"])(me,a,o,!1,null,null,null)),ve=he.exports;i["a"].config.productionTip=!1,new i["a"]({render:function(e){return e(ve)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";n("9c0c")},"61b0":function(e,t,n){},"664a":function(e,t,n){},"6fee":function(e,t,n){},"77e5":function(e,t,n){"use strict";n("664a")},"7fd3":function(e,t,n){},8027:function(e,t,n){"use strict";n("1cb3")},8195:function(e,t,n){},"9c0c":function(e,t,n){},ca79:function(e,t,n){"use strict";n("7fd3")},d456:function(e,t,n){"use strict";n("6fee")},dca4:function(e,t,n){"use strict";n("3883")},e3c4:function(e,t,n){"use strict";n("ed17")},ed17:function(e,t,n){},f21b:function(e,t,n){"use strict";n("f982")},f982:function(e,t,n){}});
//# sourceMappingURL=app.1320fb34.js.map