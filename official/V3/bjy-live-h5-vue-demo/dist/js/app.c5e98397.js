(function(e){function t(t){for(var s,r,a=t[0],c=t[1],l=t[2],d=0,f=[];d<a.length;d++)r=a[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&f.push(i[r][0]),i[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);u&&u(t);while(f.length)f.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],s=!0,a=1;a<n.length;a++){var c=n[a];0!==i[c]&&(s=!1)}s&&(o.splice(t--,1),e=r(r.s=n[0]))}return e}var s={},i={app:0},o=[];function r(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=s,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(n,s,function(t){return e[t]}.bind(null,s));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var u=c;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0505":function(e,t,n){"use strict";var s=n("f40f"),i=n.n(s);i.a},"1cb3":function(e,t,n){},"20cc":function(e,t,n){},2280:function(e,t,n){},"26c0":function(e,t,n){},"2dc8":function(e,t,n){"use strict";var s=n("bfbb"),i=n.n(s);i.a},3046:function(e,t,n){"use strict";var s=n("26c0"),i=n.n(s);i.a},"507a":function(e,t,n){"use strict";var s=n("20cc"),i=n.n(s);i.a},"56d7":function(e,t,n){"use strict";n.r(t);var s={};n.r(s),n.d(s,"DOCUMENT_FULLSCREEN_CHANGE",(function(){return ye}));n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Loading"),e.loaded?n("div",{class:{"doc-full":e.isDocFullscreen},attrs:{id:"main"}},[n("div",{class:["video-wrap",e.isCssFull?"css-full":""]},[e.isPptAsMain?n("WhiteBoard",{ref:"whiteboard",attrs:{isPptAsMain:e.isPptAsMain}}):n("Player",{ref:"player"}),n("Barrage",{ref:"barrage"}),e.isCssFull?n("button",{staticClass:"btn-full-switch",staticStyle:{position:"absolute"},on:{click:function(t){return e.exitFullScreen()}}},[e._v("退出全屏")]):e._e()],1),n("Menu",{ref:"menu",attrs:{isPptAsMain:e.isPptAsMain},on:{buttonPress:function(t){return e.handleBottomPress(t)}}}),n("div",{staticClass:"media-panel"},[n("div",{staticClass:"notice",class:{"notice-show":e.showNotice}},[n("Notice",e._b({},"Notice",e.noticeProps,!1))],1),n("InteractionPanel",{attrs:{isPptAsMain:e.isPptAsMain}})],1),n("ModalPanel"),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isRollCalling,expression:"isRollCalling"}],staticClass:"roll-call"},[n("p",{staticClass:"roll-call-tip"},[e._v("老师要求你在"+e._s(e.rollCallCountDown)+"秒内响应点名")]),n("span",{staticClass:"roll-call-btn",on:{click:function(t){return e.answerRollCall()}}},[e._v("答到")])]),n("div",{attrs:{id:"interaction-placeholder"}},[n("div",{staticClass:"redpacket"},[n("RedPacket",e._b({},"RedPacket",e.redpacketProps,!1))],1),n("LotteryHit")],1),n("div",{staticStyle:{display:"none"},attrs:{id:"attention-detection-container"}})],1):e._e()],1)},o=[],r=(n("7db0"),n("4160"),n("caad"),n("c975"),n("a9e3"),n("ac1f"),n("2532"),n("466d"),n("1276"),n("159b"),function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)}),a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"loading"}},[n("div",{staticClass:"placeholder"})])}],c={components:{},data:function(){return{loading:null}},computed:{},watch:{},methods:{},created:function(){},mounted:function(){var e=BJY.Loading.create({element:$("#loading .placeholder"),logoUrl:"http://img.baijiayun.com/0baijiacloud/logo/ydzb/v5/www-loading.png"});this.loading=e;var t=BJY.eventEmitter;t.one(t.LOADING_PANEL_START,(function(e,t){})).one(t.LOADING_PANEL_END,(function(t,n){e.destroy()})).one(t.VIEW_RENDER_TRIGGER,(function(e,t){}))},beforeDestroy:function(){this.loading&&this.loading.destroy()}},l=c,u=(n("0505"),n("2877")),d=Object(u["a"])(l,r,a,!1,null,"dcf0d0b4",null),f=d.exports,h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"h5-player"}})},m=[],p=BJY.eventEmitter,g={data:function(){return{started:!1,instance:null}},mounted:function(){var e=window.player=BJY.H5Player.create({element:$("#h5-player"),useBplayer:!0,preLoad:!0,showControls:!1,poster:""});this.instance=e,p.on(p.HTML_VIDEO_PAUSE,(function(){setTimeout((function(){var e=$("video","#h5-player")[0];BJY.os.ios&&e&&e.paused&&e.play()}),600)}))},beforeDestroy:function(){this.instance&&this.instance.destroy()}},b=g,v=(n("74c9"),Object(u["a"])(b,h,m,!1,null,null,null)),w=v.exports,_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"barrage-wrap"})},C=[],E={components:{},data:function(){return{barrage:null}},computed:{},watch:{},methods:{open:function(){this.barrage.open()},close:function(){this.barrage.close()},isBarrageOn:function(){return this.barrage.isOpened()},toggle:function(){this.isBarrageOn()?(this.close(),this.$Toast("弹幕关")):(this.open(),this.$Toast("弹幕开"))}},created:function(){},mounted:function(){this.barrage=new BJY.Barrage({container:$(".video-wrap"),speed:100,maxLength:20,top:30,bottom:30,trackHeight:30,textOnly:!1,renderContent:function(e){return e.content}})},beforeDestroy:function(){}},y=E,T=(n("507a"),Object(u["a"])(y,_,C,!1,null,"9e6caece",null)),O=T.exports,S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"menu"},[n("span",{staticClass:"user-count"},[e._v(e._s(e.userCount)+"人在线")]),n("span",{staticClass:"btn-wrap"},[e.cdnList.length>1&&e.canSwitchCdn?n("select",{directives:[{name:"model",rawName:"v-model",value:e.currentNode,expression:"currentNode"}],staticClass:"cdn-node-list",attrs:{name:"cdn",id:"cdn-list"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.currentNode=t.target.multiple?n:n[0]}}},e._l(e.cdnList.length,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(e._s(e._f("cdnListFilter")(t)))])})),0):e._e(),e.isPptAsMain?n("i",{staticClass:"icon icon-teacher",on:{click:function(t){return e.swap()}}}):e._e(),n("i",{staticClass:"icon icon-notice-btn",on:{click:function(t){return e.noticeToggle()}}}),e.isBarrageOn?n("i",{staticClass:"icon icon-barrage-on",on:{click:function(t){return e.barrageToggle()}}}):n("i",{staticClass:"icon icon-barrage-off",on:{click:function(t){return e.barrageToggle()}}}),n("i",{staticClass:"icon icon-refresh",on:{click:function(t){return e.refresh()}}}),n("i",{staticClass:"icon icon-full-screen",on:{click:function(t){return e.fullScreen()}}})])])},N=[],R=BJY.eventEmitter,B={components:{},props:["isPptAsMain"],data:function(){return{userCount:1,isBarrageOn:!1,cdnList:[],currentNode:1,canSwitchCdn:!BJY.auth.isWebRTC()}},watch:{currentNode:function(e,t){console.log(e),R.trigger(R.DOWNLINK_SERVER_NODE_CHANGE_TRIGGER,{index:e-1})}},filters:{cdnListFilter:function(e){return"线路"+e}},methods:{swap:function(){this.$emit("buttonPress","swap")},noticeToggle:function(){this.$emit("buttonPress","notice")},barrageToggle:function(){this.$emit("buttonPress","barrage")},refresh:function(){this.$emit("buttonPress","refresh")},fullScreen:function(){this.$emit("buttonPress","fullscreen")},toggleIcon:function(e){this.isBarrageOn=e}},created:function(){var e=this;R.on(R.USER_COUNT_CHANGE,(function(t,n){e.userCount=n.userCount})),this.cdnList=BJY.data.server.getLiveServerList()},mounted:function(){},beforeDestroy:function(){}},P=B,A=(n("3046"),Object(u["a"])(P,S,N,!1,null,"ed64cd92",null)),I=A.exports,L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bjy-custom-interaction"},[n("div",{staticClass:"tab-header"},[n("span",{staticClass:"tab-message",class:{active:e.getCurrentTab("message")},on:{click:function(t){return e.setTab("message")}}},[e._v("聊天")]),n("span",{staticClass:"tab-question",class:{active:e.getCurrentTab("question")},on:{click:function(t){return e.setTab("question")}}},[e._v("问答")]),e.isPptAsMain?e._e():n("span",{staticClass:"tab-board",class:{active:e.getCurrentTab("board")},on:{click:function(t){return e.setTab("board")}}},[e._v("白板")])]),n("div",{staticClass:"tab-body",class:{"can-switch":e.isPptAsMain}},[n("MessageList",{directives:[{name:"show",rawName:"v-show",value:e.getCurrentTab("message"),expression:"getCurrentTab('message')"}]}),n("QuestionAnswer",{directives:[{name:"show",rawName:"v-show",value:e.getCurrentTab("question"),expression:"getCurrentTab('question')"}]}),e.isPptAsMain?n("Player"):n("WhiteBoard",{directives:[{name:"show",rawName:"v-show",value:e.getCurrentTab("board"),expression:"getCurrentTab('board')"}]})],1)])},M=[],F=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},x=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"message-panel"}},[n("div",{staticClass:"message-list"}),n("div",{staticClass:"message-sender"})])}],k=(n("b0c0"),{}),Y=BJY.config;k[Y.ROLE_TYPE_TEACHER]={en:"teacher",cn:"老师"},k[Y.ROLE_TYPE_ASSISTANT]={en:"assistant",cn:"助教"},k[Y.ROLE_TYPE_STUDENT]={en:"student",cn:"学生"},k[Y.ROLE_TYPE_GUEST]={en:"guest",cn:"游客"};var D=k,J=BJY.eventEmitter,j={components:{},data:function(){return{listInstance:null,senderInstance:null,namespace:".demo_message_list"+Math.random()}},computed:{},watch:{},methods:{},created:function(){J.on(J.MESSAGE_RECEIVE+this.namespace,(function(e,t){var n=$(".tab-message");n.hasClass("active")||n.addClass("has-new")}))},mounted:function(){this.listInstance=BJY.MessageList.create({element:$("#message-panel .message-list"),replace:!1,renderEmoji:function(e,t){return BJY.isAlicloudImage(t)?'<img ondragstart="return false" src="'+t+'@100w_1e_1l.png" srcset="'+t+'@200w_1e_1l.png 2x">':'<img ondragstart="return false" src="'+t+'">'},renderImage:function(e){return BJY.isAlicloudImage(e)?'<img ondragstart="return false" src="'+e+'@100w_1e_1l.png" srcset="'+e+'@200w_1e_1l.png 2x">':'<img ondragstart="return false" src="'+e+'">'},renderUser:function(e,t,n){return{id:e.id,name:e.name,number:e.number,avatar:BJY.compressImage({url:e.avatar,width:t,height:n}),avatar2x:BJY.compressImage({url:e.avatar,width:2*t,height:2*n}),role:D[e.type].en,localRole:D[e.type].cn}},loadDistance:0}),this.senderInstance=BJY.MessageSender.create({element:$("#message-panel .message-sender"),replace:!1,canSendEmoji:!0,multiline:!0,messageMaxLength:140,placeholder:"请输入...",emotionList:{emotionPerRow:6,rowPerPage:4}})},beforeDestroy:function(){J.off(this.namespace),this.listInstance&&this.listInstance.destroy(),this.senderInstance&&this.senderInstance.destroy()}},q=j,U=(n("8027"),Object(u["a"])(q,F,x,!1,null,null,null)),H=U.exports,z=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},G=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"question-answer"}},[n("div",{staticClass:"placeholder"})])}],W=BJY.store,Q={components:{},data:function(){return{user:W.get("user"),instance:null}},computed:{},watch:{},methods:{},created:function(){},mounted:function(){this.instance=BJY.QuestionAnswer.create({element:$("#question-answer .placeholder"),replace:!0,canManageQuestion:!1,limitPerMinute:100,countPerPage:8,inputMaxLength:140,pageBySwipe:!0,onCopyFinish:function(){}})},beforeDestroy:function(){this.instance&&this.instance.destroy()}},V=Q,Z=(n("d456"),Object(u["a"])(V,z,G,!1,null,null,null)),K=Z.exports,X=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{fullscreen:e.fullscreenByStyle&&e.isFull},attrs:{id:"whiteboard"}},[e.isPptAsMain?e._e():n("button",{staticClass:"btn",on:{click:function(t){return e.toggleWhiteboardFull()}}},[e._v(" "+e._s(e.isFull?"退出全屏":"全屏")+" ")]),n("div",{staticClass:"placeholder"})])},ee=[],te=BJY.eventEmitter,ne={components:{},props:["isPptAsMain"],data:function(){return{whiteboard:null,isFull:!1,fullscreenByStyle:!1}},computed:{},watch:{},methods:{refresh:function(){this.whiteboard.refresh()},toggleWhiteboardFull:function(){var e=document.getElementById("whiteboard");this.fullscreenByStyle||(this.isFull?this.exitFullScreen():this.fullScreen(e)),this.isFull=!this.isFull,this.fullscreenByStyle&&te.trigger(te.DOCUMENT_FULLSCREEN_CHANGE,{isFull:this.isFull})},fullScreen:function(e){return e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen()},exitFullScreen:function(){var e=document;if(!e.exitFullscreen)return e.webkitExitFullscreen?e.webkitExitFullScreen():e.mozRequestFullscreen?e.mozExitFullscreen():e.msExitFullscreen();e.exitFullscreen()}},created:function(){},mounted:function(){this.fullscreenByStyle=!!BJY.os.ios,this.whiteboard=BJY.Whiteboard.create({element:$("#whiteboard .placeholder"),fit:1,keepSize:!1,watermark:{text:"text",opacity:8,size:36,rotate:20,fill:1}})},beforeDestroy:function(){this.whiteboard.destroy()}},se=ne,ie=(n("81b9"),Object(u["a"])(se,X,ee,!1,null,null,null)),oe=ie.exports,re={components:{MessageList:H,QuestionAnswer:K,WhiteBoard:oe,Player:w},props:["isPptAsMain"],data:function(){return{currentTab:this.isPptAsMain?"message":"board"}},computed:{},watch:{},methods:{getCurrentTab:function(e){return this.currentTab===e},setTab:function(e){this.currentTab=e,"board"===e&&this.nextTick((function(){return BJY.eventEmitter.trigger(BJY.eventEmitter.WINDOW_RESIZE)}))}},created:function(){},mounted:function(){},beforeDestroy:function(){}},ae=re,ce=(n("c60a"),Object(u["a"])(ae,L,M,!1,null,null,null)),le=ce.exports,ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"pop"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.showModal,expression:"showModal"}],staticClass:"modal"},[e.showQuizClose?n("span",{staticClass:"quiz-close",on:{click:function(t){return e.closeModal()}}},[e._v("X")]):e._e(),n("div",{staticClass:"container"})])])},de=[],fe=BJY.eventEmitter,he={components:{},data:function(){return{showModal:!1,showQuizClose:!1}},computed:{},watch:{showModal:function(e,t){e?$("#h5-player").css("transform","translateX(10000px)"):$("#h5-player").css("transform","")}},methods:{quizOpen:function(e){BJY.quizStudent.open({element:$(".modal .container")[0],replace:!1,forceJoin:e.forceJoin,quizId:e.quizId,solution:e.solution,onReady:function(){},onError:function(e){console.log(e)}})},questionOpen:function(e,t){var n=this;this.showModal=!0,this.showQuizClose=!1,BJY.AnswerStudent.open($.extend({element:$(".modal .container")[0],autoCloseAfterSubmit:!1,onClose:function(){n.showModal=!1},replace:!1,showResult:t,autoShowResultAfterEnd:!!e.isShowCorrectAnswer},e))},closeModal:function(){this.showModal=!1,this.showQuizClose=!1}},created:function(){var e=this;BJY.AnswerStudent.init(),BJY.quizStudent.init(),fe.on(fe.START_ANSWER,(function(t,n){e.questionOpen(n,!1)})).on(fe.ANSER_RESULT_SHOW,(function(t,n){e.questionOpen(n,!0)})).on(fe.QUIZ_START,(function(t,n){e.showModal=!0,e.showQuizClose=!n.forceJoin,e.quizOpen(n)})).on(fe.QUIZ_SOLUTION,(function(t,n){e.showModal=!0,e.showQuizClose=!0,e.quizOpen(n)})).on(fe.QUIZ_SUBMIT,(function(){e.closeModal()})).on(fe.QUIZ_END,(function(t,n){e.closeModal()})),fe.trigger(fe.QUIZ_REQ)},mounted:function(){},beforeDestroy:function(){}},me=he,pe=(n("e3c4"),Object(u["a"])(me,ue,de,!1,null,null,null)),ge=pe.exports,be=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},ve=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"lottery-container"},[n("div",{staticClass:"lottery-hit"})])}],we={components:{},data:function(){return{}},computed:{},watch:{},methods:{destoryHitComp:function(){this.lotteryHitComp&&this.lotteryHitComp.destroy()},createLotteryHit:function(e){var t=this;BJY.store;t.destoryHitComp(),t.lotteryHitComp=BJY.LotteryHit.create({element:$(".lottery-hit"),list:e.hitList,lotteryName:e.lotteryName,replace:!1,skin:"h5-red",onSubmit:function(e,t){},onClose:function(){t.destoryHitComp()}})}},created:function(){},mounted:function(){var e=BJY.eventEmitter,t=this;BJY.Lottery.init({needAnimation:!0}),e.on(e.STANDARD_LOTTERY_END,(function(e,n){t.createLotteryHit(n)})).on(e.COMMAND_LOTTERY_ABORT,(function(e,n){t.createLotteryHit(n)})).on(e.COMMAND_LOTTERY_BEIGIN,(function(e,t){t.command}))},beforeDestroy:function(){}},_e=we,Ce=(n("c22e"),Object(u["a"])(_e,be,ve,!1,null,null,null)),Ee=Ce.exports,ye="demo_document_fullscreen_change",Te=BJY.store,Oe=BJY.eventEmitter;Oe=Object.assign(Oe,s);var Se={name:"App",components:{Loading:f,Player:w,Menu:I,Barrage:O,WhiteBoard:oe,Notice:Yox.transformOptions(BJY.Notice),InteractionPanel:le,ModalPanel:ge,RedPacket:Yox.transformOptions(BJY.Interaction),LotteryHit:Ee},data:function(){var e=this;return{loaded:!1,noticeProps:{element:$(".media-panel .notice")[0],replace:!1,defaultContent:"这里空空如也...",foldDefault:!0},redpacketProps:{element:$(".interaction-placeholder .redpacket")[0],needRedPacket:!0,canGetRedPacket:!0,canSendRedPacket:!1,redPacketOptions:{skin:"bjy",hasRankingList:!0}},isCssFull:!1,showNotice:!1,isPptAsMain:!0,isRollCalling:!1,rollCallCountDown:10,rollCallTimer:null,isDocFullscreen:!1,exitFullScreen:BJY.debounce((function(){e.isCssFull=!1}),200,!0),namespace:".demo"+Math.random()}},created:function(){var e=this;console.log("******************************************************************************"),console.log("*   欢迎使用 BJY JS SDK - 百家云直播 - "+BJY.version),console.log("*   API 文档：https://www.baijiayun.com/js-sdk/doc/#/README"),console.log("*   版本更新日志：https://www.baijiayun.com/js-sdk/doc/#/change-log"),console.log("*   常见问题：https://www.baijiayun.com/js-sdk/doc/#/live?id=%e5%b8%b8%e8%a7%81%e9%97%ae%e9%a2%98"),console.log("*   注意事项：H5 Demo 需要在真机上预览，PC上不支持m3u8流类型， 自己创建教室测试时，注意非webrtc类型教室传入webrtc: 0"),console.log("*   sign签名规则：https://dev.baijiayun.com/wiki/detail/1"),console.log("******************************************************************************");var t={prefixName:"tiansujing",env:"production",room_id:"19112041735674",user_number:"0",user_avatar:"//img.baijiayun.com/0bjcloud/live/avatar/v2/teacher.png",user_name:"游客",user_role:0,sign:"731f5299af5179f99a17746f7c1bd20e",webrtc:0};if(location.href.includes("debug=1")){var n=prompt("输入传送门链接进入教室,webrtc课程请在链接后加上&webrtc=1");t=Object.assign(t,this.urlParser(n)),console.log(t)}var s={id:t.room_id};Number(t.webrtc)&&(s.webrtcType=Number(t.webrtc)),BJY.init({env:t.env,privateDomainPrefix:t.prefixName,class:s,user:{number:t.user_number,avatar:decodeURIComponent(t.user_avatar),name:decodeURIComponent(t.user_name),type:Number(t.user_role)},teacher:{type:1},sign:t.sign}).then((function(){var t=1;e.isPptAsMain=BJY.store.get("partner.mTemplate")===t})),Oe.on(Oe.CLASSROOM_CONNECT_TRIGGER+this.namespace,(function(e,t){})).on(Oe.VIEW_RENDER_TRIGGER+this.namespace,(function(t,n){e.loaded=!0,e.$nextTick((function(){BJY.AttentionDetection.create({element:$("#attention-detection-container"),replace:!1,skin:"light"})}))})).one(Oe.LOADING_PANEL_END+this.namespace,(function(e,t){$("#main").css({top:0,bottom:0})})).on(Oe.LOGIN_CONFLICT+this.namespace,(function(){alert("你已被踢，请确保user_number唯一")})).on(Oe.ROLL_CALL+this.namespace,(function(t,n){e.rollCallCountDown=n.duration,e.isRollCalling=!0,e.rollCallTimer=setInterval((function(){0===e.rollCallCountDown&&(clearInterval(e.rollCallTimer),e.isRollCalling=!1),e.rollCallCountDown--}),1e3)})).on(Oe.NOTICE_CHANGE+this.namespace,(function(t,n){console.log(n),setTimeout((function(){e.checkNeedScroll()}),500)})).on(Oe.NOTICE_RES+this.namespace,(function(e,t){console.log(t)})).on(Oe.ATTENTION_DETECTION_ALERT+this.namespace,(function(e,t){t.content&&alert(t.content)})).on(Oe.DOCUMENT_FULLSCREEN_CHANGE+this.namespace,(function(t,n){e.isDocFullscreen=n.isFull})).on(Oe.WINDOW_RESIZE+this.namespace,(function(){var t=document.fullscreen||window.fullScreen||document.webkitIsFullScreen||document.msFullscreenEnabled;!t&&e.isCssFull&&(e.isCssFull=!1)}))},methods:{checkNeedScroll:function(){var e=$(".bjy-content-container .bjy-content").width(),t=$(".bjy-content-container .bjy-content").children().width();t>=e?$(".media-panel .bjy-notice").addClass("need-scroll"):$(".media-panel .bjy-notice").removeClass("need-scroll")},answerRollCall:function(){Oe.trigger(Oe.ROLL_CALL_RES),this.isRollCalling=!1,clearInterval(this.rollCallTimer)},urlParser:function(e){var t={};if(e)try{var n=e.split("?")[1],s=n.split("&");s.forEach((function(e){var n=e.split("=");t[n[0]]=n[1]})),t.prefixName=e.split(".")[0].split("//")[1],t.env=this.getEnv(e)}catch(i){console.log(i)}return t},getEnv:function(e){var t=e.match(/\/\/(.*)\./)[1];return/test/.test(t)||/localhost/.test(t)||/\d{1,3}\.\d{1,3}\.\d{1,3}/.test(t)?"test":/beta/.test(t)?"beta":(/www/.test(t),"")},handleBottomPress:function(e){switch(e){case"notice":this.noticeToggle();break;case"barrage":this.barrageToggle();break;case"refresh":this.refresh();break;case"fullscreen":this.fullScreen();break;case"swap":this.swapPptVideo(),Oe.trigger(Oe.WINDOW_RESIZE)}},swapPptVideo:function(){var e=document.getElementById("h5-player"),t=document.getElementById("whiteboard"),n=e.parentNode,s=t.parentNode,i=document.createElement("span"),o=document.createElement("span");n.insertBefore(i,e),s.insertBefore(o,t),t&&n.insertBefore(t,i),e&&s.insertBefore(e,o),n.removeChild(i),s.removeChild(o)},noticeToggle:function(){this.showNotice=!this.showNotice,this.checkNeedScroll()},barrageToggle:function(){this.$refs.barrage.toggle();var e=this.$refs.barrage.isBarrageOn();this.$refs.menu.toggleIcon(e)},refresh:function(){window.player&&window.player.play()},fullScreen:function(){var e=document.getElementsByClassName("video-wrap")[0].firstElementChild;this.toFullVideo(e)},toFullVideo:function(e){var t=$(e).hasClass("bjy-player-h5-theme");if(!t||Te.get("presenter.videoOn")||Te.get("webrtcMixUser.videoOn")){if($(e).find("video").length)e=$(e).find("video")[0];else if(-1!==navigator.userAgent.indexOf("iPhone")&&$(e).find(".bjy-whiteboard").length)return void this.handleCssFull(e);return e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitEnterFullscreen?e.webkitEnterFullscreen():e.msRequestFullscreen()}this.$Toast("未发现视频~")},handleCssFull:function(e){this.isCssFull=!0}},beforeDestroy:function(){Oe.off(this.namespace),BJY.dispose(BJY.config.BJY_DISPOSE_TYPE_OUT_ROOM)}},Ne=Se,Re=(n("5c0b"),Object(u["a"])(Ne,i,o,!1,null,null,null)),Be=Re.exports,Pe=n("53ca"),Ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"fade"}},[e.visible?n("div",{staticClass:"toast-wrap"},[n("p",{staticClass:"content"},[e._v(e._s(e.content))])]):e._e()])},Ie=[],Le={components:{},props:{content:{type:String,default:"Toast"},duration:{type:Number,default:2e3}},data:function(){return{visible:!1,hideTimer:null}},computed:{},watch:{},methods:{show:function(){var e=this;this.visible=!0,this.hideTimer&&clearTimeout(this.hideTimer),this.hideTimer=setTimeout((function(){e.visible=!1}),this.duration)}},created:function(){},mounted:function(){},beforeDestroy:function(){}},Me=Le,Fe=(n("2dc8"),Object(u["a"])(Me,Ae,Ie,!1,null,"0a6f97e8",null)),$e=Fe.exports,xe={install:function(e,t){var n,s=e.extend($e),i=function(){n=new s;var e=n.$mount().$el;document.body.appendChild(e)};e.prototype.$Toast=function(e){return n||i(),"string"===typeof e?n.content=e:"object"===Object(Pe["a"])(e)&&Object.assign(n,e),n.show()}}},ke=xe,Ye=Yox.Vue;Ye.use(ke),Ye.config.productionTip=!1,new Ye({render:function(e){return e(Be)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var s=n("9c0c"),i=n.n(s);i.a},"6fee":function(e,t,n){},"74c9":function(e,t,n){"use strict";var s=n("9fd8"),i=n.n(s);i.a},8027:function(e,t,n){"use strict";var s=n("1cb3"),i=n.n(s);i.a},"81b9":function(e,t,n){"use strict";var s=n("fac9"),i=n.n(s);i.a},"9c0c":function(e,t,n){},"9cd7":function(e,t,n){},"9fd8":function(e,t,n){},bfbb:function(e,t,n){},c22e:function(e,t,n){"use strict";var s=n("2280"),i=n.n(s);i.a},c60a:function(e,t,n){"use strict";var s=n("9cd7"),i=n.n(s);i.a},d456:function(e,t,n){"use strict";var s=n("6fee"),i=n.n(s);i.a},e3c4:function(e,t,n){"use strict";var s=n("ed17"),i=n.n(s);i.a},ed17:function(e,t,n){},f40f:function(e,t,n){},fac9:function(e,t,n){}});
//# sourceMappingURL=app.c5e98397.js.map