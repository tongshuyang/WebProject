(function(e){function t(t){for(var i,a,s=t[0],c=t[1],u=t[2],d=0,f=[];d<s.length;d++)a=s[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);l&&l(t);while(f.length)f.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],i=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(i=!1)}i&&(r.splice(t--,1),e=a(a.s=n[0]))}return e}var i={},o={app:0},r=[];function a(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=i,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1877:function(e,t,n){},"313f":function(e,t,n){"use strict";n("9c7f")},3245:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("47f3"),n("c813"),n("f516"),n("0fdd");var i=n("a593"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Loading",{on:{loaded:function(t){return e.loadEnd()}}}),e.loaded?n("div",{attrs:{id:"main"}},[n("div",{staticClass:"video-wrap"},[n("Player",{ref:"player",attrs:{videoData:e.videoData}})],1),n("div",{staticClass:"media-panel"},[n("div",{staticClass:"notice"},[n("Notice")],1),e.lineList.length>1?n("select",{directives:[{name:"model",rawName:"v-model",value:e.currentLine,expression:"currentLine"}],attrs:{name:"line",id:"line-control",title:"线路"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.currentLine=t.target.multiple?n:n[0]}}},e._l(e.lineList,(function(t,i){return n("option",{key:i,domProps:{selected:i===e.currentLine,value:i}},[e._v(e._s(e._f("lineFilter")(i)))])})),0):e._e(),n("InteractionPanel")],1),n("ModalPanel")],1):e._e()],1)},r=[],a=(n("d84b"),n("fa87"),n("5c04"),n("6dbb"),n("e116"),n("dd8d"),function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)}),s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"loading"}},[n("div",{staticClass:"placeholder"})])}],c={components:{},data:function(){return{}},computed:{},watch:{},methods:{},created:function(){},mounted:function(){var e=this,t=BJY.playback.Loading.create({element:$("#loading .placeholder"),logoUrl:"http://img.baijiayun.com/0baijiacloud/logo/ydzb/v5/www-loading.png",onComplete:function(){e.$emit("loaded"),t.destroy()}})},beforeDestroy:function(){}},u=c,l=(n("ca79"),n("4ac2")),d=Object(l["a"])(u,a,s,!1,null,"f40794b4",null),f=d.exports,p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("video",{attrs:{id:"bjy-player-teacher","x5-playsinline":"true","x-webkit-airplay":"allow","webkit-playsinline":"true",playsinline:"true",controls:""}})},m=[],h=(n("e0e8"),{props:["videoData"],components:{},data:function(){return{tip:"",started:!1,video:null}},computed:{},watch:{videoData:{deep:!0,handler:function(e,t){this.attachVideo(e)}}},methods:{onPlaying:function(){BJY.playback.play()},onPause:function(){console.log("onpause"),BJY.playback.pause()},onSeeked:function(){console.log("onseeked"),BJY.playback.seek(this.video.currentTime),BJY.playback.play(),console.log(this.video.currentTime)},onTimeUpdate:function(){BJY.playback.timeupdate(this.video.currentTime)},attachVideo:function(e){var t=e.url;if(t=t.replace("https:","").replace("http:",""),t.indexOf("ev1")>-1&&flvjs){var n=flvjs.createPlayer({type:"ev1",url:t,cors:!0},{stashInitialSize:1024});n.attachMediaElement(this.video),n.load()}else this.video.src=t}},mounted:function(){var e=this.video=document.getElementById("bjy-player-teacher"),t=this.videoData,n=this;BJY.playback.start(),t&&(this.attachVideo(t),e.addEventListener("play",(function(){n.onPlaying()})),e.addEventListener("pause",(function(){n.onPause()})),e.addEventListener("seeked",(function(){n.onSeeked()})),e.addEventListener("timeupdate",(function(){n.onTimeUpdate()})))},beforeDestroy:function(){}}),v=h,b=(n("f51d"),Object(l["a"])(v,p,m,!1,null,"3ace1ac2",null)),g=b.exports,w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"interaction"},[n("div",{staticClass:"tab-header"},[n("span",{staticClass:"tab-message",class:{active:e.getCurrentTab("message")},on:{click:function(t){return e.setTab("message")}}},[e._v("聊天")]),n("span",{staticClass:"tab-question",class:{active:e.getCurrentTab("question")},on:{click:function(t){return e.setTab("question")}}},[e._v("问答")]),n("span",{staticClass:"tab-board",class:{active:e.getCurrentTab("board")},on:{click:function(t){return e.setTab("board")}}},[e._v("白板")])]),n("div",{staticClass:"tab-body"},[n("MessageList",{directives:[{name:"show",rawName:"v-show",value:e.getCurrentTab("message"),expression:"getCurrentTab('message')"}]}),n("QuestionAnswer",{directives:[{name:"show",rawName:"v-show",value:e.getCurrentTab("question"),expression:"getCurrentTab('question')"}]}),n("WhiteBoard",{directives:[{name:"show",rawName:"v-show",value:e.getCurrentTab("board"),expression:"getCurrentTab('board')"}]})],1)])},y=[],_=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},E=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"message-panel"}},[n("div",{staticClass:"message-list"})])}],x=(n("9113"),{}),T=BJY.config;x[T.ROLE_TYPE_TEACHER]={en:"teacher",cn:"老师"},x[T.ROLE_TYPE_ASSISTANT]={en:"assistant",cn:"助教"},x[T.ROLE_TYPE_STUDENT]={en:"student",cn:"学生"},x[T.ROLE_TYPE_GUEST]={en:"guest",cn:"游客"};var C=x,k=(BJY.eventEmitter,{components:{},data:function(){return{}},computed:{},watch:{},methods:{},created:function(){},mounted:function(){BJY.MessageList.create({element:$("#message-panel .message-list"),replace:!1,renderEmoji:function(e,t){return BJY.isAlicloudImage(t)?'<img ondragstart="return false" src="'+t+'@100w_1e_1l.png" srcset="'+t+'@200w_1e_1l.png 2x">':'<img ondragstart="return false" src="'+t+'">'},renderImage:function(e){return BJY.isAlicloudImage(e)?'<img ondragstart="return false" src="'+e+'@100w_1e_1l.png" srcset="'+e+'@200w_1e_1l.png 2x">':'<img ondragstart="return false" src="'+e+'">'},renderUser:function(e,t,n){return{id:e.id,name:e.name,number:e.number,avatar:BJY.compressImage({url:e.avatar,width:t,height:n}),avatar2x:BJY.compressImage({url:e.avatar,width:2*t,height:2*n}),role:C[e.type].en,localRole:C[e.type].cn}},loadDistance:0})},beforeDestroy:function(){}}),S=k,O=(n("8027"),Object(l["a"])(S,_,E,!1,null,null,null)),L=O.exports,B=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},P=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"question-answer"}},[n("div",{staticClass:"placeholder"})])}],Y=BJY.store,j={components:{},data:function(){return{user:Y.get("user")}},computed:{},watch:{},methods:{},created:function(){},mounted:function(){BJY.QuestionAnswer.create({element:$("#question-answer .placeholder"),replace:!0,canManageQuestion:!1,limitPerMinute:100,countPerPage:8,inputMaxLength:140,pageBySwipe:!0,onCopyFinish:function(){}})},beforeDestroy:function(){}},J=j,F=(n("d456"),Object(l["a"])(J,B,P,!1,null,null,null)),M=F.exports,q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"whiteboard"}},[n("button",{staticClass:"btn",on:{click:function(t){return e.toggleWhiteboardFull()}}},[e._v(" "+e._s(e.isFull?"退出全屏":"全屏")+" ")]),n("div",{staticClass:"placeholder"})])},I=[],R={components:{},data:function(){return{isFull:!1}},computed:{},watch:{},methods:{toggleWhiteboardFull:function(){var e=document.getElementById("whiteboard");this.isFull?this.exitFullScreen():this.fullScreen(e),this.isFull=!this.isFull},fullScreen:function(e){return e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen()},exitFullScreen:function(){var e=document;if(!e.exitFullscreen)return e.webkitExitFullscreen?e.webkitExitFullScreen():e.mozRequestFullscreen?e.mozExitFullscreen():e.msExitFullscreen();e.exitFullscreen()}},created:function(){},mounted:function(){BJY.Whiteboard.create({element:$("#whiteboard .placeholder")})},beforeDestroy:function(){}},z=R,A=(n("72a7"),Object(l["a"])(z,q,I,!1,null,"55e44ca0",null)),N=A.exports,D={components:{MessageList:L,QuestionAnswer:M,WhiteBoard:N},data:function(){return{currentTab:"board"}},computed:{},watch:{},methods:{getCurrentTab:function(e){return this.currentTab===e},setTab:function(e){this.currentTab=e}},created:function(){},mounted:function(){},beforeDestroy:function(){}},Q=D,U=(n("313f"),Object(l["a"])(Q,w,y,!1,null,"05b64b80",null)),W=U.exports,K=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"pop"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.showModal,expression:"showModal"}],staticClass:"modal"},[n("span",{directives:[{name:"show",rawName:"v-show",value:e.showQuizClose,expression:"showQuizClose"}],staticClass:"quiz-close",on:{click:function(t){return e.closeModal()}}},[e._v("X")]),n("div",{staticClass:"container"})])])},V=[],H=BJY.eventEmitter,X={components:{},data:function(){return{showModal:!1,showQuizClose:!1}},computed:{},watch:{},methods:{quizOpen:function(e){BJY.quizStudent.open({element:$(".modal .container")[0],replace:!1,forceJoin:e.forceJoin,quizId:e.quizId,solution:e.solution,onReady:function(){},onError:function(){}})},questionOpen:function(e,t){var n=this;this.showModal=!0,this.showQuizClose=!1,BJY.AnswerStudent.open($.extend({element:$(".modal .container")[0],replace:!1,autoCloseAfterSubmit:!0,onClose:function(){n.showModal=!1},showResult:t,autoShowResultAfterEnd:!!e.isShowCorrectAnswer},e))},closeModal:function(){this.showModal=!1,this.showQuizClose=!1}},created:function(){var e=this;BJY.AnswerStudent.init(),BJY.quizStudent.init(),H.on(H.START_ANSWER,(function(t,n){e.questionOpen(n,!1)})).on(H.ANSER_RESULT_SHOW,(function(t,n){e.questionOpen(n,!0)})).on(H.QUIZ_START,(function(t,n){e.showModal=!0,e.showQuizClose=!0,e.quizOpen(n)})).on(H.QUIZ_SOLUTION,(function(t,n){e.showModal=!0,e.showQuizClose=!0,e.quizOpen(n)}))},mounted:function(){},beforeDestroy:function(){}},Z=X,G=(n("e3c4"),Object(l["a"])(Z,K,V,!1,null,null,null)),ee=G.exports,te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"bjy-playback-notice"}})},ne=[],ie={components:{},data:function(){return{}},computed:{},watch:{},methods:{},created:function(){},mounted:function(){BJY.Notice.create({element:$("#bjy-playback-notice"),replace:!1,defaultContent:"这里空空如也..."})},beforeDestroy:function(){}},oe=ie,re=(n("77e5"),Object(l["a"])(oe,te,ne,!1,null,null,null)),ae=re.exports,se=(BJY.eventEmitter,{name:"App",components:{Loading:f,Player:g,Notice:ae,InteractionPanel:W,ModalPanel:ee},data:function(){return{loaded:!1,videoData:null,currentLine:0,lineList:[]}},filters:{lineFilter:function(e){return"线路"+ ++e}},watch:{currentLine:{deep:!0,handler:function(e,t){this.videoData=this.lineList[e]}}},created:function(){var e=this,t={token:"_NyxgArpLb5hp9iW7Rdvm2O6jv5wAF3VXpYHZM7T6Pm4biEtKMpMKu50p-1Gp3QQTKmkrktPRgsKp0fXMnVKLQ",classId:"20121042083339",sessionId:"202105120",prefixName:"e70655665"};if(location.href.includes("debug=1")){var n=prompt("输入回放url以测试");if(n){var i=this.getQuery(n);t.token=i.token,t.classId=i.classid,t.sessionId=Number(i.session_id),t.prefixName=i.prefixName}console.log(t)}BJY.playback.init({env:"production",privateDomainPrefix:t.prefixName,token:t.token,class:{id:t.classId,sessionId:t.sessionId},useEncrypt:!0,user:{number:"13147056",avatar:"http://static.sunlands.com/newUserImagePath/13147056/40_40/13147056.jpg",name:"xxx",type:0}}).then((function(t){e.loaded=!0;var n=t.defaultDefinition;e.videoData=t.videos[n][e.currentLine],e.lineList=t.videos[n]}))},methods:{loadEnd:function(){$("#main").css("top",0)},getQuery:function(e){var t=e.split("?")[1],n=e.split(".")[0].split("//")[1],i=t.split("&"),o={prefixName:n};return i.forEach((function(e){var t=e.split("=");o[t[0]]=t[1]})),o}},mounted:function(){}}),ce=se,ue=(n("5c0b"),Object(l["a"])(ce,o,r,!1,null,null,null)),le=ue.exports;i["a"].config.productionTip=!1,new i["a"]({render:function(e){return e(le)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";n("d766")},7012:function(e,t,n){},"72a7":function(e,t,n){"use strict";n("da0f")},"77e5":function(e,t,n){"use strict";n("951c")},8027:function(e,t,n){"use strict";n("1877")},"951c":function(e,t,n){},"9c7f":function(e,t,n){},bafe:function(e,t,n){},c3d3:function(e,t,n){},ca79:function(e,t,n){"use strict";n("bafe")},d456:function(e,t,n){"use strict";n("7012")},d766:function(e,t,n){},da0f:function(e,t,n){},e3c4:function(e,t,n){"use strict";n("3245")},f51d:function(e,t,n){"use strict";n("c3d3")}});
//# sourceMappingURL=app.aa36ef94.js.map