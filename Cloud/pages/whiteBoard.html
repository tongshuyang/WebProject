<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>whiteBoard</title>
    <link rel="shortcut icon" href="#" />
    <link rel="stylesheet" href="https://live-cdn.baijiayun.com/js-sdk/1.54.0/classroom/classroom.css">
    <link rel="stylesheet" href="https://live-cdn.baijiayun.com/js-sdk/1.54.0/whiteboard/Whiteboard.css">
    <link rel="stylesheet" href="https://live-cdn.baijiayun.com/js-sdk/1.54.0/component/canvas/toolBar/ToolBar.css">
</head>

<body style="margin: 0;">

    <div id="whiteboard" style="height: 100vh;">
        <div class="placeholder"></div>
    </div>

    <div id="painter-tool">
        <div class="placeholder"></div>
    </div>

    <script src="https://cdn.bootcss.com/jquery/1.12.4/jquery.js"></script>
    <script src="https://live-cdn.baijiayun.com/js-sdk/1.54.0/classroom/classroom.js"></script>
    <script src="https://live-cdn.baijiayun.com/js-sdk/1.54.0/component/canvas/Canvas.js"></script>
    <script src="https://live-cdn.baijiayun.com/js-sdk/1.54.0/whiteboard/Whiteboard.js"></script>
    <script src="https://live-cdn.baijiayun.com/js-sdk/1.54.0/component/canvas/toolBar/ToolBar.js"></script>
    <script type="text/javascript">
        // store 存储着系统的权限信息
        var store = BJY.store;
        var eventEmitter = BJY.eventEmitter;

        //教室参数
        var options = {
            prefixName: 'e70655665',
            env: 'production',
            room_id: '20121042083339',
            user_number: '0',
            user_avatar: '',
            user_name: '游客',
            user_role: 0,
            sign: 'f608a83b5284802beda696b55f21116d',
            webrtc: 1
        };
        //初始化房间
        BJY.init({
            env: options.env,
            privateDomainPrefix: options.prefixName,
            class: {
                id: options.room_id,
                webrtcType: options.webrtc
            },
            user: {
                number: options.user_number,
                avatar: decodeURIComponent(options.user_avatar),
                name: decodeURIComponent(options.user_name),
                type: Number(options.user_role)
            },
            teacher: {
                type: 1
            },
            sign: options.sign
        });

        eventEmitter
            .one(
                eventEmitter.VIEW_RENDER_TRIGGER,
                () => {
                    // 注意，在VIEW_RENDER_TRIGGER事件触发后再去加载教室里面的组件

                    var whiteBoard = BJY.Whiteboard.create({
                        element: $('#whiteboard .placeholder'),
                        // 填充模式： 1 自适应  2 撑满容器
                        fit: 1,
                    });

                    BJY.PainterToolBar.create({
                        // DOM 父元素
                        element: $('#painter-tool .placeholder'),
                        replace: true,
                        // 是否水平放置
                        isVertical: false,
                        // 是否使用选择工具
                        canUseSelectTool: true,
                        //是否使用粉笔工具
                        canUsePencilTool: true,
                        //是否使用图形工具
                        canUseShapeTool: true,
                        //是否使用文本工具
                        canUseFontTool: true,
                        //是否有调色板
                        canUsePaletteTool: true,
                        //是否使用删除键
                        canUseDeleteTool: true,
                        //是否使用激光笔
                        canUsePointTool: true
                    });

                }
            );
    </script>
    </script>
</body>

</html>